<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Service Listing - Home Buddy</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            background-image: url('https://via.placeholder.com/1920x1080/ffffff/000000?text='); /* Placeholder for background image */
            background-size: cover;
            background-attachment: fixed;
        }
        .container {
            margin-top: 50px;
        }
        .form-section {
            background-color: rgb(255, 255, 255);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        .form-section:hover {
            transform: scale(1.02);
        }
        .thank-you-message {
            transition: opacity 0.5s;
            opacity: 0;
        }
        .thank-you-message.show {
            opacity: 1;
        }
        .hidden {
            display: none;
        }
        footer {
            background-color: #f1f1f1;
            padding: 20px 0;
            text-align: center;
        }
        .social-icons a {
            margin: 0 10px;
            color: #007bff;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="index.html">Home Buddy</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="pgs_rooms.html">PGs & Rooms</a></li>
                    <li class="nav-item"><a class="nav-link" href="food_mess.html">Food Mess</a></li>
                    <li class="nav-item"><a class="nav-link" href="coaching_centers.html">Coaching Centers</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Owner Options
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="owner.html">List Your Service</a></li>
                        </ul>
                    </li>
                    <li class="nav-item"><a class="nav-link btn btn-primary text-white" href="login.html">Login/Signup</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <h1 class="text-center mb-4">List Your Service</h1>
        <div class="form-section">
            <form id="serviceForm">
                <div class="mb-3">
                    <label for="serviceType" class="form-label">Select Service Type</label>
                    <select class="form-select" id="serviceType" required>
                        <option value="" disabled selected>Select a service</option>
                        <option value="PGs & Rented Rooms">PGs & Rented Rooms</option>
                        <option value="Coaching Centers">Coaching Centers</option>
                        <option value="Food Mess">Food Mess</option>
                    </select>
                </div>
                <div class="mb-3 hidden" id="ownerNameDiv">
                    <label for="ownerName" class="form-label">Owner's Name</label>
                    <input type="text" class="form-control" id="ownerName" required>
                </div>
                <div class="mb-3 hidden" id="serviceNameDiv">
                    <label for="serviceName" class="form-label">Service Name</label>
                    <input type="text" class="form-control" id="serviceName" required>
                </div>
                <div class="mb-3 hidden" id="locationDiv">
                    <label for="location" class="form-label">Location</label>
                    <input type="text" class="form-control" id="location" required>
                </div>
                <div class="mb-3 hidden" id="phoneNumberDiv">
                    <label for="phoneNumber" class="form-label">Phone Number</label>
                    <input type="tel" class="form-control" id="phoneNumber" required>
                </div>
                <div class="mb-3 hidden" id="detailsDiv">
                    <label for="details" class="form-label">Details</label>
                    <textarea class="form-control" id="details" rows="3" required></textarea>
                </div>
                <div class="mb-3 hidden" id="featuresDiv">
                    <label for="features" class="form-label">Features (comma-separated)</label>
                    <input type="text" class="form-control" id="features" required>
                </div>
                <button type="submit" class="btn btn-primary hidden" id="submitButton">Submit</button>
            </form>
            <div id="thankYouMessage" class="thank-you-message mt-4 hidden"></div>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2025 Home Buddy. All rights reserved.</p>
        <div class="social-icons">
            <a href="#" class="fab fa-facebook-f">Facebook</a>
            <a href="#" class="fab fa-twitter">Twitter</a>
            <a href="#" class="fab fa-instagram">Instagram</a>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const serviceTypeSelect = document.getElementById('serviceType');
        const ownerNameDiv = document.getElementById('ownerNameDiv');
        const serviceNameDiv = document.getElementById('serviceNameDiv');
        const locationDiv = document.getElementById('locationDiv');
        const phoneNumberDiv = document.getElementById('phoneNumberDiv');
        const detailsDiv = document.getElementById('detailsDiv');
        const featuresDiv = document.getElementById('featuresDiv');
        const submitButton = document.getElementById('submitButton');
        const thankYouMessage = document.getElementById('thankYouMessage');

        serviceTypeSelect.addEventListener('change', function() {
            // Show relevant fields based on selected service
            ownerNameDiv.classList.remove('hidden');
            serviceNameDiv.classList.remove('hidden');
            locationDiv.classList.remove('hidden');
            phoneNumberDiv.classList.remove('hidden');
            detailsDiv.classList.remove('hidden');
            featuresDiv.classList.remove('hidden');
            submitButton.classList.remove('hidden');
            thankYouMessage.classList.add('hidden');
        });

        document.getElementById('serviceForm').addEventListener('submit', function(event) {
            event.preventDefault();

            const serviceType = serviceTypeSelect.value;
            const ownerName = document.getElementById('ownerName').value;
            const serviceName = document.getElementById('serviceName').value;
            const location = document.getElementById('location').value;
            const phoneNumber = document.getElementById('phoneNumber').value;
            const details = document.getElementById('details').value;
            const features = document.getElementById('features').value.split(',');

            const serviceData = {
                serviceType,
                ownerName,
                serviceName,
                location,
                phoneNumber,
                details,
                features
            };

            // Log the service data for debugging
            console.log('Service Data:', serviceData);

            // Send data to the backend using fetch
            fetch('http://localhost:5000/api/services', {  // Make sure this URL matches your backend
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(serviceData)
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(data => {
                // Show thank-you message
                thankYouMessage.innerHTML = `
                    <div class="alert alert-success">
                        Thank you for adding your service: ${serviceName}!<br>
                        Your option will be verified, and we will get back to you within 24 working hours.
                    </div>`;
                thankYouMessage.classList.add('show');

                // Reset the form
                document.getElementById('serviceForm').reset();
                serviceTypeSelect.value = '';
                ownerNameDiv.classList.add('hidden');
                serviceNameDiv.classList.add('hidden');
                locationDiv.classList.add('hidden');
                phoneNumberDiv.classList.add('hidden');
                detailsDiv.classList.add('hidden');
                featuresDiv.classList.add('hidden');
                submitButton.classList.add('hidden');
            })
            .catch(error => {
                console.error('Error:', error);
                alert('There was an error listing your service.');
            });
        });
    </script>
</body>
</html>